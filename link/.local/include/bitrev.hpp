// SPDX-FileCopyrightText: Steven Ward
// SPDX-License-Identifier: OSL-3.0

/// reverse the bits of a byte
/**
\file
\author Steven Ward
*/

#pragma once

#include <array>

/// an array with the bits reversed for each byte index
/**
Python snippet to generate the array
\code{.py}
for b in range(0, 255+1):
    b_str = f'{b:08b}'
    b_str_rev = b_str[::-1]
    b_rev = int(b_str_rev, base=2)
    print(f'    0x{b_rev:02x}, // {b:>3} (0b{b_str}) => {b_rev:>3} (0b{b_str_rev})')
\endcode
*/
inline constexpr std::array<unsigned char, 256> bitrev_arr{
    0x00, //   0 (0b00000000) =>   0 (0b00000000)
    0x80, //   1 (0b00000001) => 128 (0b10000000)
    0x40, //   2 (0b00000010) =>  64 (0b01000000)
    0xc0, //   3 (0b00000011) => 192 (0b11000000)
    0x20, //   4 (0b00000100) =>  32 (0b00100000)
    0xa0, //   5 (0b00000101) => 160 (0b10100000)
    0x60, //   6 (0b00000110) =>  96 (0b01100000)
    0xe0, //   7 (0b00000111) => 224 (0b11100000)
    0x10, //   8 (0b00001000) =>  16 (0b00010000)
    0x90, //   9 (0b00001001) => 144 (0b10010000)
    0x50, //  10 (0b00001010) =>  80 (0b01010000)
    0xd0, //  11 (0b00001011) => 208 (0b11010000)
    0x30, //  12 (0b00001100) =>  48 (0b00110000)
    0xb0, //  13 (0b00001101) => 176 (0b10110000)
    0x70, //  14 (0b00001110) => 112 (0b01110000)
    0xf0, //  15 (0b00001111) => 240 (0b11110000)
    0x08, //  16 (0b00010000) =>   8 (0b00001000)
    0x88, //  17 (0b00010001) => 136 (0b10001000)
    0x48, //  18 (0b00010010) =>  72 (0b01001000)
    0xc8, //  19 (0b00010011) => 200 (0b11001000)
    0x28, //  20 (0b00010100) =>  40 (0b00101000)
    0xa8, //  21 (0b00010101) => 168 (0b10101000)
    0x68, //  22 (0b00010110) => 104 (0b01101000)
    0xe8, //  23 (0b00010111) => 232 (0b11101000)
    0x18, //  24 (0b00011000) =>  24 (0b00011000)
    0x98, //  25 (0b00011001) => 152 (0b10011000)
    0x58, //  26 (0b00011010) =>  88 (0b01011000)
    0xd8, //  27 (0b00011011) => 216 (0b11011000)
    0x38, //  28 (0b00011100) =>  56 (0b00111000)
    0xb8, //  29 (0b00011101) => 184 (0b10111000)
    0x78, //  30 (0b00011110) => 120 (0b01111000)
    0xf8, //  31 (0b00011111) => 248 (0b11111000)
    0x04, //  32 (0b00100000) =>   4 (0b00000100)
    0x84, //  33 (0b00100001) => 132 (0b10000100)
    0x44, //  34 (0b00100010) =>  68 (0b01000100)
    0xc4, //  35 (0b00100011) => 196 (0b11000100)
    0x24, //  36 (0b00100100) =>  36 (0b00100100)
    0xa4, //  37 (0b00100101) => 164 (0b10100100)
    0x64, //  38 (0b00100110) => 100 (0b01100100)
    0xe4, //  39 (0b00100111) => 228 (0b11100100)
    0x14, //  40 (0b00101000) =>  20 (0b00010100)
    0x94, //  41 (0b00101001) => 148 (0b10010100)
    0x54, //  42 (0b00101010) =>  84 (0b01010100)
    0xd4, //  43 (0b00101011) => 212 (0b11010100)
    0x34, //  44 (0b00101100) =>  52 (0b00110100)
    0xb4, //  45 (0b00101101) => 180 (0b10110100)
    0x74, //  46 (0b00101110) => 116 (0b01110100)
    0xf4, //  47 (0b00101111) => 244 (0b11110100)
    0x0c, //  48 (0b00110000) =>  12 (0b00001100)
    0x8c, //  49 (0b00110001) => 140 (0b10001100)
    0x4c, //  50 (0b00110010) =>  76 (0b01001100)
    0xcc, //  51 (0b00110011) => 204 (0b11001100)
    0x2c, //  52 (0b00110100) =>  44 (0b00101100)
    0xac, //  53 (0b00110101) => 172 (0b10101100)
    0x6c, //  54 (0b00110110) => 108 (0b01101100)
    0xec, //  55 (0b00110111) => 236 (0b11101100)
    0x1c, //  56 (0b00111000) =>  28 (0b00011100)
    0x9c, //  57 (0b00111001) => 156 (0b10011100)
    0x5c, //  58 (0b00111010) =>  92 (0b01011100)
    0xdc, //  59 (0b00111011) => 220 (0b11011100)
    0x3c, //  60 (0b00111100) =>  60 (0b00111100)
    0xbc, //  61 (0b00111101) => 188 (0b10111100)
    0x7c, //  62 (0b00111110) => 124 (0b01111100)
    0xfc, //  63 (0b00111111) => 252 (0b11111100)
    0x02, //  64 (0b01000000) =>   2 (0b00000010)
    0x82, //  65 (0b01000001) => 130 (0b10000010)
    0x42, //  66 (0b01000010) =>  66 (0b01000010)
    0xc2, //  67 (0b01000011) => 194 (0b11000010)
    0x22, //  68 (0b01000100) =>  34 (0b00100010)
    0xa2, //  69 (0b01000101) => 162 (0b10100010)
    0x62, //  70 (0b01000110) =>  98 (0b01100010)
    0xe2, //  71 (0b01000111) => 226 (0b11100010)
    0x12, //  72 (0b01001000) =>  18 (0b00010010)
    0x92, //  73 (0b01001001) => 146 (0b10010010)
    0x52, //  74 (0b01001010) =>  82 (0b01010010)
    0xd2, //  75 (0b01001011) => 210 (0b11010010)
    0x32, //  76 (0b01001100) =>  50 (0b00110010)
    0xb2, //  77 (0b01001101) => 178 (0b10110010)
    0x72, //  78 (0b01001110) => 114 (0b01110010)
    0xf2, //  79 (0b01001111) => 242 (0b11110010)
    0x0a, //  80 (0b01010000) =>  10 (0b00001010)
    0x8a, //  81 (0b01010001) => 138 (0b10001010)
    0x4a, //  82 (0b01010010) =>  74 (0b01001010)
    0xca, //  83 (0b01010011) => 202 (0b11001010)
    0x2a, //  84 (0b01010100) =>  42 (0b00101010)
    0xaa, //  85 (0b01010101) => 170 (0b10101010)
    0x6a, //  86 (0b01010110) => 106 (0b01101010)
    0xea, //  87 (0b01010111) => 234 (0b11101010)
    0x1a, //  88 (0b01011000) =>  26 (0b00011010)
    0x9a, //  89 (0b01011001) => 154 (0b10011010)
    0x5a, //  90 (0b01011010) =>  90 (0b01011010)
    0xda, //  91 (0b01011011) => 218 (0b11011010)
    0x3a, //  92 (0b01011100) =>  58 (0b00111010)
    0xba, //  93 (0b01011101) => 186 (0b10111010)
    0x7a, //  94 (0b01011110) => 122 (0b01111010)
    0xfa, //  95 (0b01011111) => 250 (0b11111010)
    0x06, //  96 (0b01100000) =>   6 (0b00000110)
    0x86, //  97 (0b01100001) => 134 (0b10000110)
    0x46, //  98 (0b01100010) =>  70 (0b01000110)
    0xc6, //  99 (0b01100011) => 198 (0b11000110)
    0x26, // 100 (0b01100100) =>  38 (0b00100110)
    0xa6, // 101 (0b01100101) => 166 (0b10100110)
    0x66, // 102 (0b01100110) => 102 (0b01100110)
    0xe6, // 103 (0b01100111) => 230 (0b11100110)
    0x16, // 104 (0b01101000) =>  22 (0b00010110)
    0x96, // 105 (0b01101001) => 150 (0b10010110)
    0x56, // 106 (0b01101010) =>  86 (0b01010110)
    0xd6, // 107 (0b01101011) => 214 (0b11010110)
    0x36, // 108 (0b01101100) =>  54 (0b00110110)
    0xb6, // 109 (0b01101101) => 182 (0b10110110)
    0x76, // 110 (0b01101110) => 118 (0b01110110)
    0xf6, // 111 (0b01101111) => 246 (0b11110110)
    0x0e, // 112 (0b01110000) =>  14 (0b00001110)
    0x8e, // 113 (0b01110001) => 142 (0b10001110)
    0x4e, // 114 (0b01110010) =>  78 (0b01001110)
    0xce, // 115 (0b01110011) => 206 (0b11001110)
    0x2e, // 116 (0b01110100) =>  46 (0b00101110)
    0xae, // 117 (0b01110101) => 174 (0b10101110)
    0x6e, // 118 (0b01110110) => 110 (0b01101110)
    0xee, // 119 (0b01110111) => 238 (0b11101110)
    0x1e, // 120 (0b01111000) =>  30 (0b00011110)
    0x9e, // 121 (0b01111001) => 158 (0b10011110)
    0x5e, // 122 (0b01111010) =>  94 (0b01011110)
    0xde, // 123 (0b01111011) => 222 (0b11011110)
    0x3e, // 124 (0b01111100) =>  62 (0b00111110)
    0xbe, // 125 (0b01111101) => 190 (0b10111110)
    0x7e, // 126 (0b01111110) => 126 (0b01111110)
    0xfe, // 127 (0b01111111) => 254 (0b11111110)
    0x01, // 128 (0b10000000) =>   1 (0b00000001)
    0x81, // 129 (0b10000001) => 129 (0b10000001)
    0x41, // 130 (0b10000010) =>  65 (0b01000001)
    0xc1, // 131 (0b10000011) => 193 (0b11000001)
    0x21, // 132 (0b10000100) =>  33 (0b00100001)
    0xa1, // 133 (0b10000101) => 161 (0b10100001)
    0x61, // 134 (0b10000110) =>  97 (0b01100001)
    0xe1, // 135 (0b10000111) => 225 (0b11100001)
    0x11, // 136 (0b10001000) =>  17 (0b00010001)
    0x91, // 137 (0b10001001) => 145 (0b10010001)
    0x51, // 138 (0b10001010) =>  81 (0b01010001)
    0xd1, // 139 (0b10001011) => 209 (0b11010001)
    0x31, // 140 (0b10001100) =>  49 (0b00110001)
    0xb1, // 141 (0b10001101) => 177 (0b10110001)
    0x71, // 142 (0b10001110) => 113 (0b01110001)
    0xf1, // 143 (0b10001111) => 241 (0b11110001)
    0x09, // 144 (0b10010000) =>   9 (0b00001001)
    0x89, // 145 (0b10010001) => 137 (0b10001001)
    0x49, // 146 (0b10010010) =>  73 (0b01001001)
    0xc9, // 147 (0b10010011) => 201 (0b11001001)
    0x29, // 148 (0b10010100) =>  41 (0b00101001)
    0xa9, // 149 (0b10010101) => 169 (0b10101001)
    0x69, // 150 (0b10010110) => 105 (0b01101001)
    0xe9, // 151 (0b10010111) => 233 (0b11101001)
    0x19, // 152 (0b10011000) =>  25 (0b00011001)
    0x99, // 153 (0b10011001) => 153 (0b10011001)
    0x59, // 154 (0b10011010) =>  89 (0b01011001)
    0xd9, // 155 (0b10011011) => 217 (0b11011001)
    0x39, // 156 (0b10011100) =>  57 (0b00111001)
    0xb9, // 157 (0b10011101) => 185 (0b10111001)
    0x79, // 158 (0b10011110) => 121 (0b01111001)
    0xf9, // 159 (0b10011111) => 249 (0b11111001)
    0x05, // 160 (0b10100000) =>   5 (0b00000101)
    0x85, // 161 (0b10100001) => 133 (0b10000101)
    0x45, // 162 (0b10100010) =>  69 (0b01000101)
    0xc5, // 163 (0b10100011) => 197 (0b11000101)
    0x25, // 164 (0b10100100) =>  37 (0b00100101)
    0xa5, // 165 (0b10100101) => 165 (0b10100101)
    0x65, // 166 (0b10100110) => 101 (0b01100101)
    0xe5, // 167 (0b10100111) => 229 (0b11100101)
    0x15, // 168 (0b10101000) =>  21 (0b00010101)
    0x95, // 169 (0b10101001) => 149 (0b10010101)
    0x55, // 170 (0b10101010) =>  85 (0b01010101)
    0xd5, // 171 (0b10101011) => 213 (0b11010101)
    0x35, // 172 (0b10101100) =>  53 (0b00110101)
    0xb5, // 173 (0b10101101) => 181 (0b10110101)
    0x75, // 174 (0b10101110) => 117 (0b01110101)
    0xf5, // 175 (0b10101111) => 245 (0b11110101)
    0x0d, // 176 (0b10110000) =>  13 (0b00001101)
    0x8d, // 177 (0b10110001) => 141 (0b10001101)
    0x4d, // 178 (0b10110010) =>  77 (0b01001101)
    0xcd, // 179 (0b10110011) => 205 (0b11001101)
    0x2d, // 180 (0b10110100) =>  45 (0b00101101)
    0xad, // 181 (0b10110101) => 173 (0b10101101)
    0x6d, // 182 (0b10110110) => 109 (0b01101101)
    0xed, // 183 (0b10110111) => 237 (0b11101101)
    0x1d, // 184 (0b10111000) =>  29 (0b00011101)
    0x9d, // 185 (0b10111001) => 157 (0b10011101)
    0x5d, // 186 (0b10111010) =>  93 (0b01011101)
    0xdd, // 187 (0b10111011) => 221 (0b11011101)
    0x3d, // 188 (0b10111100) =>  61 (0b00111101)
    0xbd, // 189 (0b10111101) => 189 (0b10111101)
    0x7d, // 190 (0b10111110) => 125 (0b01111101)
    0xfd, // 191 (0b10111111) => 253 (0b11111101)
    0x03, // 192 (0b11000000) =>   3 (0b00000011)
    0x83, // 193 (0b11000001) => 131 (0b10000011)
    0x43, // 194 (0b11000010) =>  67 (0b01000011)
    0xc3, // 195 (0b11000011) => 195 (0b11000011)
    0x23, // 196 (0b11000100) =>  35 (0b00100011)
    0xa3, // 197 (0b11000101) => 163 (0b10100011)
    0x63, // 198 (0b11000110) =>  99 (0b01100011)
    0xe3, // 199 (0b11000111) => 227 (0b11100011)
    0x13, // 200 (0b11001000) =>  19 (0b00010011)
    0x93, // 201 (0b11001001) => 147 (0b10010011)
    0x53, // 202 (0b11001010) =>  83 (0b01010011)
    0xd3, // 203 (0b11001011) => 211 (0b11010011)
    0x33, // 204 (0b11001100) =>  51 (0b00110011)
    0xb3, // 205 (0b11001101) => 179 (0b10110011)
    0x73, // 206 (0b11001110) => 115 (0b01110011)
    0xf3, // 207 (0b11001111) => 243 (0b11110011)
    0x0b, // 208 (0b11010000) =>  11 (0b00001011)
    0x8b, // 209 (0b11010001) => 139 (0b10001011)
    0x4b, // 210 (0b11010010) =>  75 (0b01001011)
    0xcb, // 211 (0b11010011) => 203 (0b11001011)
    0x2b, // 212 (0b11010100) =>  43 (0b00101011)
    0xab, // 213 (0b11010101) => 171 (0b10101011)
    0x6b, // 214 (0b11010110) => 107 (0b01101011)
    0xeb, // 215 (0b11010111) => 235 (0b11101011)
    0x1b, // 216 (0b11011000) =>  27 (0b00011011)
    0x9b, // 217 (0b11011001) => 155 (0b10011011)
    0x5b, // 218 (0b11011010) =>  91 (0b01011011)
    0xdb, // 219 (0b11011011) => 219 (0b11011011)
    0x3b, // 220 (0b11011100) =>  59 (0b00111011)
    0xbb, // 221 (0b11011101) => 187 (0b10111011)
    0x7b, // 222 (0b11011110) => 123 (0b01111011)
    0xfb, // 223 (0b11011111) => 251 (0b11111011)
    0x07, // 224 (0b11100000) =>   7 (0b00000111)
    0x87, // 225 (0b11100001) => 135 (0b10000111)
    0x47, // 226 (0b11100010) =>  71 (0b01000111)
    0xc7, // 227 (0b11100011) => 199 (0b11000111)
    0x27, // 228 (0b11100100) =>  39 (0b00100111)
    0xa7, // 229 (0b11100101) => 167 (0b10100111)
    0x67, // 230 (0b11100110) => 103 (0b01100111)
    0xe7, // 231 (0b11100111) => 231 (0b11100111)
    0x17, // 232 (0b11101000) =>  23 (0b00010111)
    0x97, // 233 (0b11101001) => 151 (0b10010111)
    0x57, // 234 (0b11101010) =>  87 (0b01010111)
    0xd7, // 235 (0b11101011) => 215 (0b11010111)
    0x37, // 236 (0b11101100) =>  55 (0b00110111)
    0xb7, // 237 (0b11101101) => 183 (0b10110111)
    0x77, // 238 (0b11101110) => 119 (0b01110111)
    0xf7, // 239 (0b11101111) => 247 (0b11110111)
    0x0f, // 240 (0b11110000) =>  15 (0b00001111)
    0x8f, // 241 (0b11110001) => 143 (0b10001111)
    0x4f, // 242 (0b11110010) =>  79 (0b01001111)
    0xcf, // 243 (0b11110011) => 207 (0b11001111)
    0x2f, // 244 (0b11110100) =>  47 (0b00101111)
    0xaf, // 245 (0b11110101) => 175 (0b10101111)
    0x6f, // 246 (0b11110110) => 111 (0b01101111)
    0xef, // 247 (0b11110111) => 239 (0b11101111)
    0x1f, // 248 (0b11111000) =>  31 (0b00011111)
    0x9f, // 249 (0b11111001) => 159 (0b10011111)
    0x5f, // 250 (0b11111010) =>  95 (0b01011111)
    0xdf, // 251 (0b11111011) => 223 (0b11011111)
    0x3f, // 252 (0b11111100) =>  63 (0b00111111)
    0xbf, // 253 (0b11111101) => 191 (0b10111111)
    0x7f, // 254 (0b11111110) => 127 (0b01111111)
    0xff, // 255 (0b11111111) => 255 (0b11111111)
};
